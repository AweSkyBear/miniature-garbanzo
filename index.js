(()=>{var t={104:t=>{var n="undefined"!=typeof process&&process.pid?process.pid.toString(36):"";function e(){var t=Date.now(),n=e.last||t;return e.last=t>n?t:n+1}t.exports=t.exports.default=function(t,o){return(t||"")+""+n+e().toString(36)+(o||"")},t.exports.process=function(t,o){return(t||"")+n+e().toString(36)+(o||"")},t.exports.time=function(t,n){return(t||"")+e().toString(36)+(n||"")}}},n={};function e(o){var r=n[o];if(void 0!==r)return r.exports;var a=n[o]={exports:{}};return t[o](a,a.exports,e),a.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{"use strict";var t=e(104),n=e.n(t);function o(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function r(t){return function n(e){return 0===arguments.length||o(e)?n:t.apply(this,arguments)}}function a(t){return function n(e,a){switch(arguments.length){case 0:return n;case 1:return o(e)?n:r((function(n){return t(e,n)}));default:return o(e)&&o(a)?n:o(e)?r((function(n){return t(n,a)})):o(a)?r((function(n){return t(e,n)})):t(e,a)}}}const u=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function i(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function c(t,n,e){return function(){if(0===arguments.length)return e();var o=arguments[arguments.length-1];if(!u(o)){for(var r=0;r<t.length;){if("function"==typeof o[t[r]])return o[t[r]].apply(o,Array.prototype.slice.call(arguments,0,-1));r+=1}if(i(o)){var a=n.apply(null,Array.prototype.slice.call(arguments,0,-1));return a(o)}}return e.apply(this,arguments)}}const s=function(){return this.xf["@@transducer/init"]()},l=function(t){return this.xf["@@transducer/result"](t)};function E(t,n){for(var e=0,o=n.length,r=Array(o);e<o;)r[e]=t(n[e]),e+=1;return r}function f(t){return"[object String]"===Object.prototype.toString.call(t)}const p=r((function(t){return!!u(t)||!!t&&"object"==typeof t&&!f(t)&&(0===t.length||t.length>0&&t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1))}));var d=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)},t}();function T(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,e){return n.apply(this,arguments)};case 3:return function(t,e,o){return n.apply(this,arguments)};case 4:return function(t,e,o,r){return n.apply(this,arguments)};case 5:return function(t,e,o,r,a){return n.apply(this,arguments)};case 6:return function(t,e,o,r,a,u){return n.apply(this,arguments)};case 7:return function(t,e,o,r,a,u,i){return n.apply(this,arguments)};case 8:return function(t,e,o,r,a,u,i,c){return n.apply(this,arguments)};case 9:return function(t,e,o,r,a,u,i,c,s){return n.apply(this,arguments)};case 10:return function(t,e,o,r,a,u,i,c,s,l){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}const O=a((function(t,n){return T(t.length,(function(){return t.apply(n,arguments)}))}));function v(t,n,e){for(var o=e.next();!o.done;){if((n=t["@@transducer/step"](n,o.value))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}o=e.next()}return t["@@transducer/result"](n)}function b(t,n,e,o){return t["@@transducer/result"](e[o](O(t["@@transducer/step"],t),n))}var h="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function _(t,n,e){if("function"==typeof t&&(t=function(t){return new d(t)}(t)),p(e))return function(t,n,e){for(var o=0,r=e.length;o<r;){if((n=t["@@transducer/step"](n,e[o]))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}o+=1}return t["@@transducer/result"](n)}(t,n,e);if("function"==typeof e["fantasy-land/reduce"])return b(t,n,e,"fantasy-land/reduce");if(null!=e[h])return v(t,n,e[h]());if("function"==typeof e.next)return v(t,n,e);if("function"==typeof e.reduce)return b(t,n,e,"reduce");throw new TypeError("reduce: list must be array or iterable")}var R=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=s,t.prototype["@@transducer/result"]=l,t.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},t}();const m=a((function(t,n){return new R(t,n)}));function A(t,n,e){return function(){for(var r=[],a=0,u=t,i=0;i<n.length||a<arguments.length;){var c;i<n.length&&(!o(n[i])||a>=arguments.length)?c=n[i]:(c=arguments[a],a+=1),r[i]=c,o(c)||(u-=1),i+=1}return u<=0?e.apply(this,r):T(u,A(t,r,e))}}const g=a((function(t,n){return 1===t?r(n):T(t,A(t,[],n))}));function S(t,n){return Object.prototype.hasOwnProperty.call(n,t)}var y=Object.prototype.toString;const C=function(){return"[object Arguments]"===y.call(arguments)?function(t){return"[object Arguments]"===y.call(t)}:function(t){return S("callee",t)}}();var M=!{toString:null}.propertyIsEnumerable("toString"),N=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],U=function(){return arguments.propertyIsEnumerable("length")}(),x=function(t,n){for(var e=0;e<t.length;){if(t[e]===n)return!0;e+=1}return!1};const L="function"!=typeof Object.keys||U?r((function(t){if(Object(t)!==t)return[];var n,e,o=[],r=U&&C(t);for(n in t)!S(n,t)||r&&"length"===n||(o[o.length]=n);if(M)for(e=N.length-1;e>=0;)S(n=N[e],t)&&!x(o,n)&&(o[o.length]=n),e-=1;return o})):r((function(t){return Object(t)!==t?[]:Object.keys(t)})),I=a(c(["fantasy-land/map","map"],m,(function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return g(n.length,(function(){return t.call(this,n.apply(this,arguments))}));case"[object Object]":return _((function(e,o){return e[o]=t(n[o]),e}),{},L(n));default:return E(t,n)}}))),B=Number.isInteger||function(t){return t<<0===t},V=a((function(t,n){var e=t<0?n.length+t:t;return f(n)?n.charAt(e):n[e]})),k=a((function(t,n){if(null!=n)return B(t)?V(t,n):n[t]}));function w(t){return function n(e,u,i){switch(arguments.length){case 0:return n;case 1:return o(e)?n:a((function(n,o){return t(e,n,o)}));case 2:return o(e)&&o(u)?n:o(e)?a((function(n,e){return t(n,u,e)})):o(u)?a((function(n,o){return t(e,n,o)})):r((function(n){return t(e,u,n)}));default:return o(e)&&o(u)&&o(i)?n:o(e)&&o(u)?a((function(n,e){return t(n,e,i)})):o(e)&&o(i)?a((function(n,e){return t(n,u,e)})):o(u)&&o(i)?a((function(n,o){return t(e,n,o)})):o(e)?r((function(n){return t(n,u,i)})):o(u)?r((function(n){return t(e,n,i)})):o(i)?r((function(n){return t(e,u,n)})):t(e,u,i)}}}const D=w(_),P=r((function(t){return function(){return t}}));const j=a((function(t,n){return"function"==typeof n["fantasy-land/ap"]?n["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(n):"function"==typeof t?function(e){return t(e)(n(e))}:_((function(t,e){return function(t,n){var e;n=n||[];var o=(t=t||[]).length,r=n.length,a=[];for(e=0;e<o;)a[a.length]=t[e],e+=1;for(e=0;e<r;)a[a.length]=n[e],e+=1;return a}(t,I(e,n))}),[],t)})),G=a((function(t,n){var e=g(t,n);return g(t,(function(){return _(j,I(e,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),H=r((function(t){return G(t.length,t)})),Y=r((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function F(t,n,e,o){var r,a=function(r){for(var a=n.length,u=0;u<a;){if(t===n[u])return e[u];u+=1}for(var i in n[u]=t,e[u]=r,t)t.hasOwnProperty(i)&&(r[i]=o?F(t[i],n,e,!0):t[i]);return r};switch(Y(t)){case"Object":return a(Object.create(Object.getPrototypeOf(t)));case"Array":return a([]);case"Date":return new Date(t.valueOf());case"RegExp":return r=t,new RegExp(r.source,(r.global?"g":"")+(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.sticky?"y":"")+(r.unicode?"u":""));case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return t.slice();default:return t}}const X=r((function(t){return null!=t&&"function"==typeof t.clone?t.clone():F(t,[],[],!0)})),q=H(r((function(t){return!t})));function W(t,n){return function(){return n.call(this,t.apply(this,arguments))}}function z(t,n){return function(){var e=arguments.length;if(0===e)return n();var o=arguments[e-1];return u(o)||"function"!=typeof o[t]?n.apply(this,arguments):o[t].apply(o,Array.prototype.slice.call(arguments,0,e-1))}}const K=r(z("tail",w(z("slice",(function(t,n,e){return Array.prototype.slice.call(e,t,n)})))(1,1/0)));function Q(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return T(arguments[0].length,D(W,arguments[0],K(arguments)))}const J=r((function(t){return f(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}));function Z(){if(0===arguments.length)throw new Error("compose requires at least one argument");return Q.apply(this,J(arguments))}function $(t){var n=Object.prototype.toString.call(t);return"[object Function]"===n||"[object AsyncFunction]"===n||"[object GeneratorFunction]"===n||"[object AsyncGeneratorFunction]"===n}function tt(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}function nt(t,n,e){for(var o=0,r=e.length;o<r;){if(t(n,e[o]))return!0;o+=1}return!1}const et="function"==typeof Object.is?Object.is:function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n};function ot(t,n,e,o){var r=tt(t);function a(t,n){return rt(t,n,e.slice(),o.slice())}return!nt((function(t,n){return!nt(a,n,t)}),tt(n),r)}function rt(t,n,e,o){if(et(t,n))return!0;var r,a,u=Y(t);if(u!==Y(n))return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof n.equals)return"function"==typeof t.equals&&t.equals(n)&&"function"==typeof n.equals&&n.equals(t);switch(u){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(r=t.constructor,null==(a=String(r).match(/^function (\w*)/))?"":a[1]))return t===n;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof n||!et(t.valueOf(),n.valueOf()))return!1;break;case"Date":if(!et(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(t.source!==n.source||t.global!==n.global||t.ignoreCase!==n.ignoreCase||t.multiline!==n.multiline||t.sticky!==n.sticky||t.unicode!==n.unicode)return!1}for(var i=e.length-1;i>=0;){if(e[i]===t)return o[i]===n;i-=1}switch(u){case"Map":return t.size===n.size&&ot(t.entries(),n.entries(),e.concat([t]),o.concat([n]));case"Set":return t.size===n.size&&ot(t.values(),n.values(),e.concat([t]),o.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=L(t);if(c.length!==L(n).length)return!1;var s=e.concat([t]),l=o.concat([n]);for(i=c.length-1;i>=0;){var E=c[i];if(!S(E,n)||!rt(n[E],t[E],s,l))return!1;i-=1}return!0}const at=a((function(t,n){return rt(t,n,[],[])}));function ut(t,n){return function(t,n,e){var o,r;if("function"==typeof t.indexOf)switch(typeof n){case"number":if(0===n){for(o=1/n;e<t.length;){if(0===(r=t[e])&&1/r===o)return e;e+=1}return-1}if(n!=n){for(;e<t.length;){if("number"==typeof(r=t[e])&&r!=r)return e;e+=1}return-1}return t.indexOf(n,e);case"string":case"boolean":case"function":case"undefined":return t.indexOf(n,e);case"object":if(null===n)return t.indexOf(n,e)}for(;e<t.length;){if(at(t[e],n))return e;e+=1}return-1}(n,t,0)>=0}function it(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var ct=function(t){return(t<10?"0":"")+t};const st="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+ct(t.getUTCMonth()+1)+"-"+ct(t.getUTCDate())+"T"+ct(t.getUTCHours())+":"+ct(t.getUTCMinutes())+":"+ct(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function lt(t){return"[object Object]"===Object.prototype.toString.call(t)}var Et=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=s,t.prototype["@@transducer/result"]=l,t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):t},t}();const ft=a(c(["fantasy-land/filter","filter"],a((function(t,n){return new Et(t,n)})),(function(t,n){return lt(n)?_((function(e,o){return t(n[o])&&(e[o]=n[o]),e}),{},L(n)):function(t,n){for(var e=0,o=n.length,r=[];e<o;)t(n[e])&&(r[r.length]=n[e]),e+=1;return r}(t,n)}))),pt=a((function(t,n){return ft((e=t,function(){return!e.apply(this,arguments)}),n);var e}));function dt(t,n){var e=function(e){var o=n.concat([t]);return ut(e,o)?"<Circular>":dt(e,o)},o=function(t,n){return E((function(n){return it(n)+": "+e(t[n])}),n.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+E(e,t).join(", ")+"))";case"[object Array]":return"["+E(e,t).concat(o(t,pt((function(t){return/^\d+$/.test(t)}),L(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+e(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?e(NaN):it(st(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+e(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+e(t.valueOf())+")":it(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var r=t.toString();if("[object Object]"!==r)return r}return"{"+o(t,L(t)).join(", ")+"}"}}const Tt=r((function(t){return dt(t,[])})),Ot=a((function(t,n){if(u(t)){if(u(n))return t.concat(n);throw new TypeError(Tt(n)+" is not an array")}if(f(t)){if(f(n))return t+n;throw new TypeError(Tt(n)+" is not a string")}if(null!=t&&$(t["fantasy-land/concat"]))return t["fantasy-land/concat"](n);if(null!=t&&$(t.concat))return t.concat(n);throw new TypeError(Tt(t)+' does not have a method named "concat" or "fantasy-land/concat"')})),vt=a((function(t,n){return null==n||n!=n?t:n}));function bt(t,n,e){var o,r=typeof t;switch(r){case"string":case"number":return 0===t&&1/t==-1/0?!!e._items["-0"]||(n&&(e._items["-0"]=!0),!1):null!==e._nativeSet?n?(o=e._nativeSet.size,e._nativeSet.add(t),e._nativeSet.size===o):e._nativeSet.has(t):r in e._items?t in e._items[r]||(n&&(e._items[r][t]=!0),!1):(n&&(e._items[r]={},e._items[r][t]=!0),!1);case"boolean":if(r in e._items){var a=t?1:0;return!!e._items[r][a]||(n&&(e._items[r][a]=!0),!1)}return n&&(e._items[r]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==e._nativeSet?n?(o=e._nativeSet.size,e._nativeSet.add(t),e._nativeSet.size===o):e._nativeSet.has(t):r in e._items?!!ut(t,e._items[r])||(n&&e._items[r].push(t),!1):(n&&(e._items[r]=[t]),!1);case"undefined":return!!e._items[r]||(n&&(e._items[r]=!0),!1);case"object":if(null===t)return!!e._items.null||(n&&(e._items.null=!0),!1);default:return(r=Object.prototype.toString.call(t))in e._items?!!ut(t,e._items[r])||(n&&e._items[r].push(t),!1):(n&&(e._items[r]=[t]),!1)}}const ht=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!bt(t,!0,this)},t.prototype.has=function(t){return bt(t,!1,this)},t}(),_t=a((function(t,n){return t||n})),Rt=a((function(t,n){return $(t)?function(){return t.apply(this,arguments)||n.apply(this,arguments)}:H(_t)(t,n)}));function mt(t){return t}const At=r(mt);var gt=function(){function t(t,n){this.xf=n,this.f=t,this.set=new ht}return t.prototype["@@transducer/init"]=s,t.prototype["@@transducer/result"]=l,t.prototype["@@transducer/step"]=function(t,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](t,n):t},t}();const St=a(c([],a((function(t,n){return new gt(t,n)})),(function(t,n){for(var e,o,r=new ht,a=[],u=0;u<n.length;)e=t(o=n[u]),r.add(e)&&a.push(o),u+=1;return a})))(At);"function"==typeof Object.assign&&Object.assign;const yt=a((function(t,n){return g(t+1,(function(){var e=arguments[t];if(null!=e&&$(e[n]))return e[n].apply(e,Array.prototype.slice.call(arguments,0,t));throw new TypeError(Tt(e)+' does not have a method named "'+n+'"')}))})),Ct=a((function(t,n){return n instanceof t||null!=n&&(n.constructor===t||"Object"===t.name&&"object"==typeof n)})),Mt=r((function(t){return null==t})),Nt=a((function(t,n){return t.map((function(t){for(var e,o=n,r=0;r<t.length;){if(null==o)return;e=t[r],o=B(e)?V(e,o):o[e],r+=1}return o}))})),Ut=a((function(t,n){return Nt([t],n)[0]})),xt=w((function(t,n,e){var o,r={};for(o in n)S(o,n)&&(r[o]=S(o,e)?t(o,n[o],e[o]):n[o]);for(o in e)S(o,e)&&!S(o,r)&&(r[o]=e[o]);return r})),Lt=w((function t(n,e,o){return xt((function(e,o,r){return lt(o)&&lt(r)?t(n,o,r):n(e,o,r)}),e,o)})),It=a((function(t,n){return Lt((function(t,n,e){return e}),t,n)})),Bt=w((function(t,n,e){return xt((function(n,e,o){return t(e,o)}),n,e)})),Vt=w((function(t,n,e){return vt(t,k(n,e))})),kt=yt(1,"split");String.prototype.trim;const wt=w((function(t,n,e){return t(e)?n(e):e})),Dt=q(Mt),Pt=(t,n)=>{setTimeout(t,n)},jt=t=>t instanceof Array?t:[t],Gt=(t,n)=>Array.isArray(t)&&Array.isArray(n)?St(Ot(t,n)):"object"!=typeof t||"object"!=typeof n||Mt(t)||Mt(n)?n:Bt(Gt,t,n),Ht=t=>"object"==typeof t,Yt=(q(Ht),t=>t.reduce(((t,n)=>(t[n]=n,t)),{})),Ft=Vt({},"payload"),Xt=t=>Z(k(t),Ft),qt=Yt(["OBS_CREATE","OBS_REMOVE","OBS_EXISTING_RE"]),Wt=t=>n=>{return Z(P(n),t,(e=[Zt,"instance"],Z(Ut(wt(Ct(String),kt("."))(e)),Ft)))(n);var e},zt=(t,n)=>t.get(n),Kt=(t,n=[])=>t?(t.forChildren((t=>{n.push(t),Kt(t,n)})),n):[],Qt=()=>new Map,Jt=(t,n,e)=>(e&&(n.parentId=e.options.id),t.set(n.options.id,n)),Zt="obs",$t=(t,n)=>()=>{const e=Array.from(n().values()),o=n(),r=un((()=>o)),a=rn(t,(()=>o));e.forEach((t=>r(t)&&a(t)))},tn=(t,n)=>(e,o={})=>{if(!e)return void(t.onWarn&&t.onWarn({msg:"Dispached event is undefined"}));const r=Ht(e)?e:{name:e};o.payload&&(r.payload=It(r.payload,o.payload)),t.onEvent&&t.onEvent(r);const a=vt({},o.target),u="observers"in a,i=u?a.originalTarget:a,c=Rt(at("all"),Mt)(o.target),s=Ct(Function,i),l=u?!c&&jt(a.observers):!c&&jt(i),E=(f=l[0])&&"dispatchEvent"in f;var f;if(c){if(r.name===qt.OBS_CREATE)return;n().forEach(((t,n)=>{t.handleEvent&&t.handleEvent(r)}))}else if(E)if(s){const t=i;l.forEach((n=>n.handleEvent&&t(n.options)&&n.handleEvent(r)))}else l.forEach((t=>t.handleEvent(r)));else if(s){const t=i;n().forEach(((n,e)=>{n.handleEvent&&t(n.options)&&n.handleEvent(r)}))}},nn=(t,n)=>(e,o={})=>function(t,n,e){var o,r,a,u=null,i=0;e||(e={});var c=function(){i=!1===e.leading?0:Date.now(),u=null,a=t.apply(o,r),u||(o=r=null)};return function(){var s=Date.now();i||!1!==e.leading||(i=s);var l=n-(s-i);return o=null,r=arguments,l<=0||l>n?(u&&(clearTimeout(u),u=null),i=s,a=t.apply(o,r),u||(o=r=null)):u||!1===e.trailing||(u=setTimeout(c,l)),a}}((o=>{tn(t,n)("all",Gt(e||{},o||{}))}),vt(200,o.throttleMs)),en=(t,e)=>(o,r={},a)=>{const u=e(),{id:i,meta:c}=Object.assign({},r),s=i&&u.get(i);if(i&&Boolean(s)){const n=X(s.options);return t.onWarn&&t.onWarn({msg:"Trying to add an observer with existing ID, will dispatch OBS_EXISTING_RE event",params:{obs:n}}),Pt((()=>s.handleEvent&&s.handleEvent({name:qt.OBS_EXISTING_RE,payload:{[Zt]:n}}))),s}const l="function"==typeof o?o(a):o,E=t=>{const n=Object.assign({},l)[t.name];return n&&n(t)},f=Qt(),p={handleEvent:E,options:Object.freeze(Object.assign({id:vt(n()("obs-"),i)},(d={meta:c&&X(c),name:r.name},Object.keys(d).reduce(((t,n)=>(Dt(d[n])&&(t[n]=d[n]),t)),{})))),forChildren:t=>{f.forEach((n=>t(n,f)))},addOD:t=>(Jt(f,t,p),t),dispatchEvent:(n,o)=>{const r=vt(p,((t,n)=>{let e=zt(t,n);for(;null==e?void 0:e.parentId;)e=zt(t,e.parentId);return e})(u,p.parentId));var a;const i={observers:[r,...(a=r,Kt(a))].filter(Dt),originalTarget:null==o?void 0:o.target};tn(t,e)(n,Object.assign(Object.assign({},o),{target:i}))},removeOD:(n,e=!1)=>{e?sn(f,n):on(t,f,n)}};var d;if(!s)return Jt(u,p),Pt((()=>{E({name:qt.OBS_CREATE,payload:{[Zt]:Object.assign(Object.assign({},p.options),{instance:p})}}),t.onObsCreated(X(p.options))})),p},on=(t,n,e,o=!1)=>{n.get(e.options.id)?cn(t,n,e,o):t.onWarn&&t.onWarn({msg:"No observer found to remove",params:{obs:e}})},rn=(t,n)=>(e,o)=>{on(t,n(),e,o)},an=(t,n)=>e=>{if(!n().get(e))return void(t.onWarn&&t.onWarn({msg:"Remove obs: no observer with id",params:{id:e}}));const o=n(),r=o.get(e);cn(t,o,r)},un=t=>n=>Boolean(t().get(n.options.id)),cn=(t,n,e,o=!1)=>{const r=n.get(e.options.id);if(e.parentId){const t=n.get(e.parentId);null==t||t.removeOD(e,!0)}!o&&e.forChildren(((n,e)=>{cn(t,e,n),ln(e,n)})),(null==r?void 0:r.handleEvent)&&(r.handleEvent({name:qt.OBS_REMOVE,payload:r.options}),t.onObsRemoved(X(r.options))),ln(n,r)},sn=(t,n)=>{t.delete(n.options.id)},ln=(t,n)=>{sn(t,n),t.delete(n.options.id),n.handleEvent=null},En=new Map;var fn,pn=function(t,n){void 0===t&&(t=""),void 0===n&&(n="div");var e=document.createElement(n);return t&&(e.innerHTML=t),e},dn=function(t,n,e){if(e||2===arguments.length)for(var o,r=0,a=n.length;r<a;r++)!o&&r in n||(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return t.concat(o||Array.prototype.slice.call(n))},Tn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return console.info.apply(console,dn(["%c".concat(t[0]),"color: blue"],t.slice(1),!1))},On=((t={})=>{const e=n()("OD-API-"),o=Qt();En.set(e,o);const r=()=>(t=>En.get(t))(e),a=t=>{const n=[];return t.forChildren((t=>n.push(t))),n},u=t=>Object.assign(Object.assign({},t.options),{children:a(t).map(u)}),i=tn(t,r);var c,s,l,E;return{addObsDisp:en(t,r),obsDispCreator:(s=t,l=r,(...t)=>(t.length<2&&t.push({}),en(s,l).bind(null,...t))),dispatchEvent:i,dispatchDeferredEvent:(...n)=>Pt((()=>tn(t,r)(...n))),createThrottledDispatch:nn(t,r),checkObsExists:un(r),checkObsExistsById:(c=r,t=>Boolean(c().get(t))),removeAllObservers:$t(t,r),removeObs:rn(t,r),removeObsById:an(t,r),getObsById:t=>zt(r(),t),getAllObservers:(E=r(),()=>Array.from(E.values())),getObserversTree:()=>Array.from(r().values()).filter((t=>!t.parentId)).map(u)}})({onEvent:function(t){return Tn("EVENT DISP",t)},onObsCreated:function(t){return Tn("OBS ADDED",t)},onObsRemoved:function(t){return Tn("OBS REMOVED",t)},onWarn:function(t){var n=t.msg,e=t.params;return Tn("WARN: ",n,e)}});fn={OD:On},Object.keys(fn).map((function(t){var n=fn[t];return window[t]=n,window.__EXPOSED=window.__EXPOSED||{},window.__EXPOSED[t]=n,[t,n]}));var vn=On.addObsDisp,bn=On.dispatchEvent,hn=On.obsDispCreator,_n=On.removeObs,Rn=On.removeObsById,mn=On.getObsById;const An=Object.freeze({create:()=>{const t=document.createElement("p");return t.setAttribute("id","counterText"),document.body.appendChild(t),t},findInput:()=>document.querySelector("#counterText"),setValue:t=>{An.findInput().textContent=t},getValue:()=>parseInt(An.findInput().textContent),destroy:()=>{An.findInput()?.remove()}}),gn=An,Sn=hn({OBS_CREATE:()=>{gn.create(),gn.setValue(0),setTimeout((()=>bn("COUNTER_ADD")),1e3)},COUNTER_ADD:()=>{gn.setValue(gn.getValue()+1),setTimeout((()=>bn("COUNTER_ADD")),1e3)},OBS_REMOVE:()=>{gn.destroy()}},{id:"counter",name:"stateless-counter"}),yn=hn((()=>{const t={count:0,interval:null,tickMs:1e3};return{[qt.OBS_CREATE]:()=>{gn.create(),t.interval=setInterval((()=>{bn("COUNTER_ADD")}),t.tickMs),gn.setValue(t.count)},COUNTER_ADD:()=>{t.count++,gn.setValue(t.count)},[qt.OBS_REMOVE]:()=>{clearInterval(t.interval),gn.destroy()}}}),{id:"counter",name:"stateful-counter"});var Cn,Mn=hn({MY_EVENT:function(){return console.log("(OBS 1:: singleton inlined obs handles MY_EVENT")}},{id:"hello-world-1"}),Nn=hn((function(){var t={count:0};return{MY_EVENT:function(){t.count++,console.log("(OBS 2:: singleton inlined obs with state - handles MY_EVENT, state.count is",t.count)}}}),{id:"hello-world-2"}),Un=hn((function(){var t={count:0};return{MY_EVENT:function(){t.count++,console.log("(OBS 3:: non-singleton inlined obs with state - handles MY_EVENT, state.count is",t.count)}}}));var xn,Ln=hn(((Cn={})[qt.OBS_CREATE]=function(){console.log("App obs created")},Cn),{id:"app"});var In,Bn=hn(((xn={})[qt.OBS_CREATE]=function(){console.log("App obs created")},xn[qt.OBS_REMOVE]=function(){console.log("App obs is removed")},xn),{id:"app"});var Vn=hn(((In={})[qt.OBS_CREATE]=function(){console.log("App obs created")},In),{id:"app"});var kn=hn((function(){var t,n={lastResult:null,lastAction:null,history:[]};return(t={})[qt.OBS_CREATE]=function(){console.log("Calculator created")},t.CALCULATOR_OPERATION_EXEC=function(t){var e=Xt("op")(t),o=Xt("operands")(t),r=o[0],a=o[1];switch(n.lastResult=null,e){case"add":n.lastResult=r+a;break;case"divide":n.lastResult=r/a;break;case"subtract":n.lastResult=r-a;break;case"multiply":n.lastResult=r*a}if(null===n.lastResult||isNaN(n.lastResult))throw new Error("Could not calc expression for op ".concat(e," and operands: ").concat(r,", ").concat(a));var u={op:e,operands:[r,a],res:n.lastResult};n.history.push(u),bn("CALCULATOR_OPERATION_RESULT",{payload:{res:X(u)}})},t.CALCULATOR_HISTORY_REQUEST=function(){bn("CALCULATOR_HISTORY_SENT",{payload:{history:X(n.history)}})},t}),{id:"calculator"});var wn=Yt(["CALCULATOR_OPERATION_EXEC","CALCULATOR_OPERATION_RESULT","CALCULATOR_HISTORY_REQUEST","CALCULATOR_HISTORY_SENT"]),Dn=hn((function(){var t,n={lastResult:null,lastAction:null,history:[]};return(t={})[qt.OBS_CREATE]=function(){console.log("Calculator created")},t[wn.CALCULATOR_OPERATION_EXEC]=function(t){var e=Xt("op")(t),o=Xt("operands")(t),r=o[0],a=o[1];switch(n.lastResult=null,e){case"add":n.lastResult=r+a;break;case"divide":n.lastResult=r/a;break;case"subtract":n.lastResult=r-a;break;case"multiply":n.lastResult=r*a}if(null===n.lastResult||isNaN(n.lastResult))throw new Error("Could not calc expression for op ".concat(e," and operands: ").concat(r,", ").concat(a));var u={op:e,operands:[r,a],res:n.lastResult};n.history.push(u),bn(wn.CALCULATOR_OPERATION_RESULT,{payload:{res:X(u)}})},t[wn.CALCULATOR_HISTORY_REQUEST]=function(){bn(wn.CALCULATOR_HISTORY_SENT,{payload:{history:X(n.history)}})},t}),{id:"calculator"});var Pn=hn((function(t){var n,e={config:t};return(n={})[qt.OBS_CREATE]=function(){console.log("App obs created, initial config: ",e.config)},n}),{id:"app"});var jn=hn((function(){var t;return(t={})[qt.OBS_CREATE]=function(){return console.log("obs-created")},t}));var Gn,Hn,Yn,Fn,Xn=hn(((Gn={})[qt.OBS_CREATE]=Q(Wt((function(t){console.log("(createParentObs) here is the obs",t)})),Wt((function(t){console.log("(createParentObs) OBS_CREATE"),t.addOD(qn()),console.log("(createParentObs) obs.addOD createChildObs()")})),(Fn=function(t){console.log("(createParentObs) the event object is: ",t)},t=>Z(P(t),Fn)(t))),Gn.EVENT_FROM_PARENT=function(){console.log("(createParentObs) EVENT_FROM_PARENT")},Gn[qt.OBS_REMOVE]=function(t){return t.name,t.payload,console.log("(createParentObs) OBS_REMOVE")},Gn),{name:"the-parent"}),qn=hn(((Hn={})[qt.OBS_CREATE]=function(t){var n=t.payload.obs.instance;console.log("(createChildObs) OBS_CREATE"),n.dispatchEvent("EVENT_FROM_PARENT")},Hn.EVENT_FROM_PARENT=function(){console.log("(createChildObs) EVENT_FROM_PARENT")},Hn[qt.OBS_REMOVE]=function(t){return t.name,t.payload,console.log("(createChildObs) OBS_REMOVE")},Hn),{name:"the-child"}),Wn=hn(((Yn={})[qt.OBS_CREATE]=function(t){t.payload,console.log("(createSeparateObs) OBS_CREATE")},Yn.EVENT_FROM_PARENT=function(){console.log("(createSeparateObs) EVENT_FROM_PARENT")},Yn[qt.OBS_REMOVE]=function(t){return t.name,t.payload,console.log("(createSeparateObs) OBS_REMOVE")},Yn),{name:"the-separate-obs"});var zn,Kn,Qn,Jn,Zn=hn(((zn={})[qt.OBS_CREATE]=function(t){var n=t.payload;console.log("(createParentObs) OBS_CREATE"),n.obs.instance.addOD($n())},zn.GAME_START=function(){return console.log("(createObsTopLevel) GAME_START")},zn[qt.OBS_REMOVE]=function(t){return t.name,t.payload,console.log("(createObsTopLevel) OBS_REMOVE")},zn)),$n=hn(((Kn={})[qt.OBS_CREATE]=function(t){var n=t.payload.obs.instance;console.log("(createObsLevel2) : addOD(createObsLevel3())"),n.addOD(te())},Kn.GAME_START=function(t){t.payload,console.log("(createObsLevel2) GAME_START")},Kn[qt.OBS_REMOVE]=function(t){return t.name,t.payload,console.log("(createObsLevel2) OBS_REMOVE")},Kn)),te=hn(((Qn={OBS_CREATE:function(){console.log("(createObsLevel3) OBS_CREATE")},GAME_START:function(){return console.log("(createObsLevel3) GAME_START")}})[qt.OBS_REMOVE]=function(t){return t.name,t.payload,console.log("(createObsLevel3) OBS_REMOVE")},Qn)),ne=hn((Jn={OBS_CREATE:function(t){t.payload,console.log("(createSeparateObs) OBS_CREATE")},EVENT_FROM_PARENT:function(){console.log("(createSeparateObs) EVENT_FROM_PARENT")}},Jn[qt.OBS_REMOVE]=function(t){return t.name,t.payload,console.log("(createSeparateObs) OBS_REMOVE")},Jn));var ee,oe,re,ae,ue=hn(((ee={})[qt.OBS_CREATE]=function(t){var n=t.payload;console.log("(createParentObs) OBS_CREATE"),n.obs.instance.addOD(ie())},ee.GAME_START=function(){return console.log("(createObsTopLevel) GAME_START")},ee[qt.OBS_REMOVE]=function(t){return t.name,t.payload,console.log("(createObsTopLevel) OBS_REMOVE")},ee)),ie=hn(((oe={})[qt.OBS_CREATE]=function(t){var n=t.payload.obs.instance;console.log("(createObsLevel2) : addOD(createObsLevel3())"),n.addOD(ce())},oe.GAME_START=function(t){t.payload,console.log("(createObsLevel2) GAME_START")},oe[qt.OBS_REMOVE]=function(t){return t.name,t.payload,console.log("(createObsLevel2) OBS_REMOVE")},oe),{id:"createObsLevel2"}),ce=hn(((re={OBS_CREATE:function(){console.log("(createObsLevel3) OBS_CREATE")},GAME_START:function(){return console.log("(createObsLevel3) GAME_START")}})[qt.OBS_REMOVE]=function(t){return t.name,t.payload,console.log("(createObsLevel3) OBS_REMOVE")},re)),se=hn((ae={OBS_CREATE:function(t){t.payload,console.log("(createSeparateObs) OBS_CREATE")},GAME_START:function(){console.log("(createSeparateObs) GAME_START")},EVENT_FROM_PARENT:function(){console.log("(createSeparateObs) EVENT_FROM_PARENT")}},ae[qt.OBS_REMOVE]=function(t){return t.name,t.payload,console.log("(createSeparateObs) OBS_REMOVE")},ae));var le=function(t){void 0===t&&(t={});var n=null;t.label&&(n=document.createElement("div")).appendChild(Ee({text:t.label,tag:"span"}).el);var e=document.createElement(t.tag||"div");t.text&&(e.innerHTML=t.text),t.value&&(e.value=t.value),t.onClick&&e.addEventListener("click",t.onClick),t.onChange&&e.addEventListener("keyup",t.onChange),t.onChange&&e.addEventListener("change",t.onChange),n&&n.appendChild(e);var o=n||e;!t.doNotAttach&&(t.attachTo||document.body).appendChild(o);var r=t.attrs||{};Object.keys(r).forEach((function(t,n){e.setAttribute(t,r[t])}));var a={wrapperEl:n,el:e,remove:function(){n&&n.remove(),e.remove()},setText:function(t){return e.textContent=t,a},setValue:function(t){return e.value=t,a},setDisabled:function(t){return t?e.setAttribute("disabled",""):e.removeAttribute("disabled"),a},then:function(t){return t(a),a}};return a},Ee=function(t){return void 0===t&&(t={}),le({tag:t.tag||"div",text:t.text||"",doNotAttach:t.doNotAttach,attachTo:t.attachTo,attrs:t.attrs})},fe=hn((function(t){var n,e=t.initialCount,o=t.tickMs,r={count:e||0,interval:null,tickMs:o||1e3,textTickMs:null,textStartCount:null};return(n={})[qt.OBS_CREATE]=function(){gn.create(),r.interval=setInterval((function(){bn("COUNTER_INCREASE")}),r.tickMs),gn.setValue(r.count),r.textTickMs=Ee({text:"Updates every ".concat(r.tickMs/1e3,"s")}),r.textStartCount=Ee({text:"Starts from ".concat(e)})},n.COUNTER_INCREASE=function(){r.count++,gn.setValue(r.count)},n[qt.OBS_REMOVE]=function(){clearInterval(r.interval),gn.destroy(),r.textTickMs.remove(),r.textStartCount.remove()},n}),{id:"counter"});var pe=function(){return pe=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},pe.apply(this,arguments)},de=function(t){return void 0===t&&(t={}),le(pe({tag:"button"},t))},Te=function(){return Te=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},Te.apply(this,arguments)},Oe=function(t){return void 0===t&&(t={}),le(Te(Te({},t),{tag:"input"}))},ve=function(){return ve=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},ve.apply(this,arguments)},be=function(t){return void 0===t&&(t={}),le(ve(ve({},t),{tag:"br"}))},he=hn((function(t){var n,e=t.startCount,o={count:e||0,startCount:e,interval:null,tickMs:t.tickMs||1e3,changeAmount:1,isRunning:!0,textCounter:null,textIsRunning:null,textTickMs:null,textStartCount:null,btnReset:null,btnResume:null,btnPause:null,inputTickMs:null,inputStartValue:null,inputChangeAmount:null,miscHtmlEls:[]},r=function(){return o.textCounter.setText(o.count)},a=function(){o.isRunning=!0,o.interval||(o.interval=setInterval((function(){bn("COUNTER_INCREASE",{payload:{changeAmount:o.changeAmount}})}),o.tickMs),c())},u=a,i=function(){o.isRunning=!1,clearInterval(o.interval),o.interval=null,c()},c=function(){var t,n;o.textIsRunning&&(o.textIsRunning.el.innerText="Is Running: ".concat(o.isRunning)),null===(t=o.btnPause)||void 0===t||t.setDisabled(!o.isRunning),null===(n=o.btnResume)||void 0===n||n.setDisabled(o.isRunning)},s=function(){o.textTickMs.el.innerText="Updates every ".concat(o.tickMs/1e3,"s")},l=function(){o.textStartCount.el.innerText="Starts from ".concat(o.startCount)};return(n={})[qt.OBS_CREATE]=function(){o.textCounter=Ee({tag:"p"}),a(),o.textIsRunning=Ee(),o.textTickMs=Ee(),s(),o.textStartCount=Ee(),l(),o.btnReset=de({text:"Reset",onClick:function(){return bn("COUNTER_RESET")}}),o.miscHtmlEls.push(be()),o.btnPause=de({text:"Pause",onClick:function(){return bn("COUNTER_PAUSE")}}),o.btnResume=de({text:"Resume",onClick:function(){return bn("COUNTER_RESUME")}}),c(),o.miscHtmlEls.push(be()),o.inputTickMs=Oe({attrs:{value:o.tickMs,type:"number",min:0,max:1e4},label:"Updates Every (ms): ",onChange:function(t){var n=t.target.value;bn("COUNTER_SET_TICK_MS",{payload:{tickMs:parseInt(n||1e3)}})}}),o.inputStartValue=Oe({attrs:{value:o.startCount,type:"number",min:-100,max:100},label:"Start Value: ",onChange:function(t){var n=t.target.value;bn("COUNTER_SET_START_VALUE",{payload:{startValue:parseInt(n||0)}})}}),o.inputChangeAmount=Oe({attrs:{value:o.changeAmount,type:"number",min:-1e3,max:1e3},label:"Change Amount: ",onChange:function(t){var n=t.target.value;bn("COUNTER_SET_CHANGE_AMOUNT",{payload:{changeAmount:parseInt(n||1)}})}}),r()},n.COUNTER_PAUSE=i,n.COUNTER_RESUME=u,n.COUNTER_INCREASE=function(t){var n=Xt("changeAmount")(t);o.count+=n,r()},n.COUNTER_RESET=function(){o.count=o.startCount||0,r()},n.COUNTER_SET_TICK_MS=function(t){o.tickMs=parseInt(Xt("tickMs")(t)),s(),o.isRunning&&bn("COUNTER_RESTART")},n.COUNTER_SET_START_VALUE=function(t){o.startCount=Xt("startValue")(t),l()},n.COUNTER_SET_CHANGE_AMOUNT=function(t){o.changeAmount=Xt("changeAmount")(t)},n.COUNTER_RESTART=function(){i(),a()},n.COUNTER_REFRESH_INPUTS=function(){o.inputChangeAmount.setValue(o.changeAmount),o.inputStartValue.setValue(o.startCount),o.inputTickMs.setValue(o.tickMs)},n[qt.OBS_REMOVE]=function(){i(),Object.values(o).filter((function(t){return t&&(t.remove||t instanceof Array)})).forEach((function(t){return t.remove?t.remove():t.forEach((function(t){return t.remove&&t.remove()}))}))},n}),{id:"counter"});var _e=function(t){return document.querySelector(".".concat(t))},Re=function(t,n){return o=n,(e=_e(t))&&(e.value=o);var e,o},me=function(t,n){return function(t,n){n?null==t||t.removeAttribute("disabled"):null==t||t.setAttribute("disabled","")}(_e(t),n)},Ae=function(t,n){return function(t,n){return t&&(t.innerText=n)}(_e(t),n)},ge=hn((function(t){var n,e=t.startCount,o={count:e||0,startCount:e,interval:null,tickMs:t.tickMs||1e3,changeAmount:1,isRunning:!0,htmlEls:[]},r=function(){return Ae("textCounter",o.count)},a=function(){o.isRunning=!0,o.interval||(o.interval=setInterval((function(){bn("COUNTER_INCREASE",{payload:{changeAmount:o.changeAmount}})}),o.tickMs),c())},u=a,i=function(){o.isRunning=!1,clearInterval(o.interval),o.interval=null,c()},c=function(){Ae("textIsRunning","Is Running: ".concat(o.isRunning)),me("btnPause",o.isRunning),me("btnResume",!o.isRunning)},s=function(){Ae("textTickMs","Updates every ".concat(o.tickMs/1e3,"s"))},l=function(){Ae("textStartCount","Starts from ".concat(o.startCount))};return(n={})[qt.OBS_CREATE]=function(){o.htmlEls=[Ee({tag:"p",attrs:{class:"textCounter"}}).then((function(){a(),r()})),Ee({attrs:{class:"textIsRunning"}}),Ee({attrs:{class:"textTickMs"}}).then((function(){s()})),Ee({attrs:{class:"textStartCount"}}).then((function(){l()})),de({attrs:{class:"btnReset"},text:"Reset",onClick:function(){return bn("COUNTER_RESET")}}),be(),de({attrs:{class:"btnPause"},text:"Pause",onClick:function(){return bn("COUNTER_PAUSE")}}),de({attrs:{class:"btnResume"},text:"Resume",onClick:function(){return bn("COUNTER_RESUME")}}).then((function(){c()})),be(),Oe({attrs:{class:"inputTickMs",value:o.tickMs,type:"number",min:0,max:1e4},label:"Updates Every (ms): ",onChange:function(t){var n=t.target.value;bn("COUNTER_SET_TICK_MS",{payload:{tickMs:parseInt(n||1e3)}})}}),Oe({attrs:{class:"inputStartValue",value:o.startCount,type:"number",min:-100,max:100},label:"Start Value: ",onChange:function(t){var n=t.target.value;bn("COUNTER_SET_START_VALUE",{payload:{startValue:parseInt(n||0)}})}}),Oe({attrs:{class:"inputChangeAmount",value:o.changeAmount,type:"number",min:-1e3,max:1e3},label:"Change Amount: ",onChange:function(t){var n=t.target.value;bn("COUNTER_SET_CHANGE_AMOUNT",{payload:{changeAmount:parseInt(n||1)}})}})]},n.COUNTER_PAUSE=i,n.COUNTER_RESUME=u,n.COUNTER_INCREASE=function(t){var n=Xt("changeAmount")(t);o.count+=n,r()},n.COUNTER_RESET=function(){o.count=o.startCount||0,r()},n.COUNTER_SET_TICK_MS=function(t){o.tickMs=parseInt(Xt("tickMs")(t)),s(),o.isRunning&&bn("COUNTER_RESTART")},n.COUNTER_SET_START_VALUE=function(t){o.startCount=Xt("startValue")(t),l()},n.COUNTER_SET_CHANGE_AMOUNT=function(t){o.changeAmount=Xt("changeAmount")(t)},n.COUNTER_RESTART=function(){i(),a()},n.COUNTER_REFRESH_INPUTS=function(){Re("inputChangeAmount",o.changeAmount),Re("inputStartValue",o.startCount),Re("inputTickMs",o.tickMs)},n[qt.OBS_REMOVE]=function(){i(),o.htmlEls.forEach((function(t){return t.remove()}))},n}),{id:"counter"});var Se=hn((function(t){var n,e=void 0===t?{}:t,o=e.name,r=e.text,a=e.tag,u={textEl:null};return(n={})[qt.OBS_CREATE]=function(){u.textEl=Ee({tag:a,text:r,attrs:{class:o}})},n.EL_SET_TEXT=function(t){Xt("name")(t).toString()===o&&u.textEl.setText(Xt("text")(t))},n[qt.OBS_REMOVE]=function(){u.textEl.remove()},n})),ye=hn((function(t){var n,e=t.name,o=t.text,r={btnEl:null};return(n={})[qt.OBS_CREATE]=function(){r.btnEl=de({text:o,attrs:{class:e},onClick:function(){return bn("EL_CLICK",{payload:{name:e}})}})},n.EL_SET_TEXT=function(t){Xt("name")(t)===e&&r.btnEl.setText(Xt("text")(t))},n.EL_DISABLE=function(t){Xt("name")(t)===e&&r.btnEl.setDisabled(Xt("disabled")(t))},n[qt.OBS_REMOVE]=function(){r.btnEl.remove()},n})),Ce=function(){return Ce=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},Ce.apply(this,arguments)},Me=hn((function(t){var n,e=t.name,o=t.label,r=t.value,a=t.attrs,u={inputEl:null};return(n={})[qt.OBS_CREATE]=function(){u.inputEl=Oe({value:"".concat(r),label:o,attrs:Ce(Ce({},a),{class:e}),onChange:function(t){return bn("EL_CHANGE",{payload:{name:e,value:t.target.value}})}})},n.EL_SET_VALUE=function(t){Xt("name")(t)===e&&u.inputEl.setValue(Xt("value")(t))},n.EL_DISABLE=function(t){Xt("name")(t)===e&&u.inputEl.setDisabled(Xt("disabled")(t))},n[qt.OBS_REMOVE]=function(){u.inputEl.remove()},n})),Ne=hn((function(){var t,n={brEl:null};return(t={})[qt.OBS_CREATE]=function(){n.brEl=be()},t[qt.OBS_REMOVE]=function(){n.brEl.remove()},t}),{}),Ue=hn((function(t){var n,e=t.startCount,o=t.tickMs,r={count:e||0,startCount:e,interval:null,tickMs:o||1e3,changeAmount:1,isRunning:!0},a=function(){return bn("EL_SET_TEXT",{payload:{name:"textCounter",text:r.count}})},u=function(){r.isRunning=!0,r.interval||(r.interval=setInterval((function(){bn("COUNTER_INCREASE",{payload:{changeAmount:r.changeAmount}})}),r.tickMs),s())},i=u,c=function(){r.isRunning=!1,clearInterval(r.interval),r.interval=null,s()},s=function(){bn("EL_SET_TEXT",{payload:{name:"textIsRunning",text:"Is Running: ".concat(r.isRunning)}}),bn("EL_DISABLE",{payload:{name:"btnPause",disabled:!r.isRunning}}),bn("EL_DISABLE",{payload:{name:"btnResume",disabled:r.isRunning}})},l=function(){return"Updates every ".concat(r.tickMs/1e3,"s")},E=function(){return"Starts from ".concat(r.startCount)};return(n={})[qt.OBS_CREATE]=function(){Se({tag:"p",name:"textCounter",text:"".concat(e)}),Se({name:"textIsRunning",text:r.isRunning}),Se({name:"textTickMs",text:l()}),Se({name:"textStartCount",text:E()}),ye({name:"btnReset",text:"Reset"}),Ne(),ye({name:"btnPause",text:"Pause"}),ye({name:"btnResume",text:"Resume"}),Ne(),Me({name:"inputTickMs",label:"Updates Every (ms): ",value:r.tickMs,attrs:{type:"number",min:0,max:1e4}}),Me({name:"inputStartValue",label:"Start Value: ",value:r.startCount,attrs:{type:"number",min:-100,max:100}}),Me({name:"inputChangeAmount",label:"Change Amount: ",value:r.changeAmount,attrs:{type:"number",min:-1e3,max:1e3}}),setTimeout((function(){return u()}))},n.EL_CLICK=function(t){switch(Xt("name")(t)){case"btnReset":bn("COUNTER_RESET");break;case"btnPause":bn("COUNTER_PAUSE");break;case"btnResume":bn("COUNTER_RESUME")}},n.EL_CHANGE=function(t){var n=Xt("name")(t),e=Xt("value")(t);switch(n){case"inputTickMs":bn("COUNTER_SET_TICK_MS",{payload:{tickMs:e}});break;case"inputStartValue":bn("COUNTER_SET_START_VALUE",{payload:{startValue:e}});break;case"inputChangeAmount":bn("COUNTER_SET_CHANGE_AMOUNT",{payload:{changeAmount:e}})}},n.COUNTER_PAUSE=c,n.COUNTER_RESUME=i,n.COUNTER_INCREASE=function(t){var n=Xt("changeAmount")(t);r.count+=n,a()},n.COUNTER_RESET=function(){r.count=parseInt(r.startCount)||0,a()},n.COUNTER_SET_TICK_MS=function(t){r.tickMs=parseInt(Xt("tickMs")(t)),bn("EL_SET_TEXT",{payload:{name:"textTickMs",text:l()}}),r.isRunning&&bn("COUNTER_RESTART")},n.COUNTER_SET_START_VALUE=function(t){r.startCount=Xt("startValue")(t),bn("EL_SET_TEXT",{payload:{name:"textStartCount",text:E()}})},n.COUNTER_SET_CHANGE_AMOUNT=function(t){r.changeAmount=parseInt(Xt("changeAmount")(t))},n.COUNTER_RESTART=function(){c(),u()},n.COUNTER_REFRESH_INPUTS=function(){bn("EL_SET_VALUE",{payload:{name:"inputChangeAmount",value:r.changeAmount}}),bn("EL_SET_VALUE",{payload:{name:"inputStartValue",value:r.startCount}}),bn("EL_SET_VALUE",{payload:{name:"inputTickMs",value:r.tickMs}})},n[qt.OBS_REMOVE]=function(){c()},n}),{id:"counter"});var xe=hn((function(t){var n,e=void 0===t?{}:t,o=e.tag,r=e.name,a=e.text,u=e.attachTo,i={textEl:null};return(n={})[qt.OBS_CREATE]=Wt((function(t){i.textEl=Ee({tag:o,text:a,attrs:{class:r},attachTo:u.el})})),n.EL_SET_TEXT=function(t){Xt("name")(t).toString()===r&&i.textEl.setText(Xt("text")(t))},n[qt.OBS_REMOVE]=function(){i.textEl.remove()},n})),Le=hn((function(t){var n,e=void 0===t?{}:t,o=e.name,r=e.text,a=e.attachTo,u={obs:null,btnEl:null};return(n={})[qt.OBS_CREATE]=Wt((function(t){u.obs=t,u.btnEl=de({text:r,attrs:{class:o},attachTo:a.el,onClick:function(){return t.dispatchEvent("EL_CLICK",{payload:{name:o}})}})})),n.EL_SET_TEXT=function(t){Xt("name")(t)===o&&u.btnEl.setText(Xt("text")(t))},n.EL_DISABLE=function(t){Xt("name")(t)===o&&u.btnEl.setDisabled(Xt("disabled")(t))},n[qt.OBS_REMOVE]=function(){u.btnEl.remove()},n})),Ie=function(){return Ie=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},Ie.apply(this,arguments)},Be=hn((function(t){var n,e=void 0===t?{}:t,o=e.name,r=e.label,a=e.value,u=e.attrs,i=e.attachTo,c={obs:null,inputEl:null};return(n={})[qt.OBS_CREATE]=Wt((function(t){c.obs=t,c.inputEl=Oe({value:"".concat(a),label:r,attrs:Ie(Ie({},u),{class:o}),attachTo:i.el,onChange:function(n){return t.dispatchEvent("EL_CHANGE",{payload:{name:o,value:n.target.value}})}})})),n.EL_SET_VALUE=function(t){if(Xt("name")(t)===o){var n=Xt("value")(t);c.inputEl.setValue(n),c.obs.dispatchEvent("EL_VALUE_UPDATED",{payload:{name:o,value:n}})}},n.EL_DISABLE=function(t){Xt("name")(t)===o&&c.inputEl.setDisabled(Xt("disabled")(t))},n[qt.OBS_REMOVE]=function(){c.inputEl.remove()},n})),Ve=hn((function(t){var n,e=(void 0===t?{}:t).attachTo,o={brEl:null};return(n={})[qt.OBS_CREATE]=function(){o.brEl=be({attachTo:e.el})},n[qt.OBS_REMOVE]=function(){o.brEl.remove()},n})),ke=hn((function(t){var n,e=t.startCount,o=t.tickMs,r={obs:null,containerEl:null,count:e||0,startCount:e,interval:null,tickMs:o||1e3,changeAmount:1,isRunning:!0},a=function(){return r.obs.dispatchEvent("EL_SET_TEXT",{payload:{name:"textCounter",text:r.count}})},u=function(){r.isRunning=!0,r.interval||(r.interval=setInterval((function(){r.obs.dispatchEvent("COUNTER_INCREASE",{payload:{changeAmount:r.changeAmount}})}),r.tickMs),s())},i=u,c=function(){r.isRunning=!1,clearInterval(r.interval),r.interval=null,s()},s=function(){r.obs.dispatchEvent("EL_SET_TEXT",{payload:{name:"textIsRunning",text:"Is Running: ".concat(r.isRunning)}}),r.obs.dispatchEvent("EL_DISABLE",{payload:{name:"btnPause",disabled:!r.isRunning}}),r.obs.dispatchEvent("EL_DISABLE",{payload:{name:"btnResume",disabled:r.isRunning}})},l=function(){return"Updates every ".concat(r.tickMs/1e3,"s")},E=function(){return"Starts from ".concat(r.startCount)};return(n={})[qt.OBS_CREATE]=Wt((function(t){r.obs=t,r.containerEl=le({attrs:{class:"counter"}});var n=r.containerEl;le({tag:"h3",attrs:{class:"title"},text:"Counting From ".concat(e," Originally"),attachTo:n.el}),r.obs.addOD(xe({tag:"p",name:"textCounter",text:"".concat(e),attachTo:n})),r.obs.addOD(xe({name:"textIsRunning",text:r.isRunning,attachTo:n})),r.obs.addOD(xe({name:"textTickMs",text:l(),attachTo:n})),r.obs.addOD(xe({name:"textStartCount",text:E(),attachTo:n})),r.obs.addOD(Le({name:"btnReset",text:"Reset",attachTo:n})),r.obs.addOD(Ve({attachTo:n})),r.obs.addOD(Le({name:"btnPause",text:"Pause",attachTo:n})),r.obs.addOD(Le({name:"btnResume",text:"Resume",attachTo:n})),r.obs.addOD(Ve({attachTo:n})),r.obs.addOD(Be({name:"inputTickMs",label:"Updates Every (ms): ",value:r.tickMs,attrs:{type:"number",min:0,max:1e4},attachTo:n})),r.obs.addOD(Be({name:"inputStartValue",label:"Start Value: ",value:r.startCount,attrs:{type:"number",min:-100,max:100},attachTo:n})),r.obs.addOD(Be({name:"inputChangeAmount",label:"Change Amount: ",value:r.changeAmount,attrs:{type:"number",min:-1e3,max:1e3},attachTo:n})),setTimeout((function(){return u()}))})),n.EL_CLICK=function(t){switch(Xt("name")(t)){case"btnReset":r.obs.dispatchEvent("COUNTER_RESET");break;case"btnPause":r.obs.dispatchEvent("COUNTER_PAUSE");break;case"btnResume":r.obs.dispatchEvent("COUNTER_RESUME")}},n.EL_CHANGE=function(t){var n=Xt("name")(t),e=Xt("value")(t);switch(n){case"inputTickMs":r.obs.dispatchEvent("COUNTER_SET_TICK_MS",{payload:{tickMs:e}});break;case"inputStartValue":r.obs.dispatchEvent("COUNTER_SET_START_VALUE",{payload:{startValue:e}});break;case"inputChangeAmount":r.obs.dispatchEvent("COUNTER_SET_CHANGE_AMOUNT",{payload:{changeAmount:e}})}},n.COUNTER_PAUSE=c,n.COUNTER_RESUME=i,n.COUNTER_INCREASE=function(t){var n=Xt("changeAmount")(t);r.count+=n,a()},n.COUNTER_RESET=function(){r.count=parseInt(r.startCount)||0,a()},n.COUNTER_SET_TICK_MS=function(t){r.tickMs=parseInt(Xt("tickMs")(t)),r.obs.dispatchEvent("EL_SET_TEXT",{payload:{name:"textTickMs",text:l()}}),r.isRunning&&r.obs.dispatchEvent("COUNTER_RESTART")},n.COUNTER_SET_START_VALUE=function(t){r.startCount=Xt("startValue")(t),r.obs.dispatchEvent("EL_SET_TEXT",{payload:{name:"textStartCount",text:E()}})},n.COUNTER_SET_CHANGE_AMOUNT=function(t){r.changeAmount=parseInt(Xt("changeAmount")(t))},n.COUNTER_RESTART=function(){c(),u()},n.COUNTER_REFRESH_INPUTS=function(){r.obs.dispatchEvent("EL_SET_VALUE",{payload:{name:"inputChangeAmount",value:r.changeAmount}}),r.obs.dispatchEvent("EL_SET_VALUE",{payload:{name:"inputStartValue",value:r.startCount}}),r.obs.dispatchEvent("EL_SET_VALUE",{payload:{name:"inputTickMs",value:r.tickMs}})},n[qt.OBS_REMOVE]=function(){c(),r.containerEl.remove()},n}));var we=hn((function(){var t,n={obs:null,containerEl:null};return(t={})[qt.OBS_CREATE]=Wt((function(t){n.obs=t,n.containerEl=le({attrs:{class:"master-of-counters"}});var e=n.containerEl;n.obs.addOD(Le({name:"btnResetAll",text:"Reset All",attachTo:e})),n.obs.addOD(Le({name:"btnPauseAll",text:"Pause All",attachTo:e})),n.obs.addOD(Le({name:"btnResumeAll",text:"Resume All",attachTo:e}))})),t.EL_CLICK=function(t){switch(Xt("name")(t)){case"btnResetAll":bn("COUNTER_RESET");break;case"btnPauseAll":bn("COUNTER_PAUSE");break;case"btnResumeAll":bn("COUNTER_RESUME")}},t})),De={"Simplest Counter / Plain JS":[[()=>{Sn()},"createAutoCounter - stateless","Auto-counter: very simple stateless observer in plain JS"],[()=>{yn()},"createAutoCounter - stateful","Auto-counter: very simple stateFUL observer in plain JS"]],"Basic APIs":[[function(){vn({MY_EVENT:function(){return console.log("(OBS 1:: singleton inlined obs handles MY_EVENT")}},{id:"hello-world-addObsDisp-1"}),vn((function(){var t={count:0};return{MY_EVENT:function(){t.count++,console.log("(OBS 2:: singleton inlined obs with state - handles MY_EVENT, state.count is",t.count)}}}),{id:"hello-world-addObsDisp-2"}),vn((function(){var t={count:0};return{MY_EVENT:function(){t.count++,console.log("(OBS 3:: non-singleton inlined obs with state - handles MY_EVENT, state.count is",t.count)}}})),bn("MY_EVENT"),bn("MY_EVENT"),bn("MY_EVENT")},"addObsDisp","Add an `inline` observer on the spot - quick and dirty"],[function(){Mn(),Nn(),Un(),bn("MY_EVENT"),bn("MY_EVENT"),bn("MY_EVENT")},"obsDispCreator","The scalable way to create observers - obsDispCreator"],[function(){Ln(),setTimeout((function(){console.log("App obs: ",mn("app"))}))},"getObsById","Return an observer by its id (when you know it)"],[function(){Bn(),setTimeout((function(){console.log("Remove app obs"),Rn("app")}))},"removeObsById","Remove an observer by id. This triggers its OBS_REMOVE event"],[function(){Vn(),Vn(),Vn(),Rn("app"),Vn()},"Singleton obs","Pass options with `id` param to make it a singleton"],[function(){kn(),vn({CALCULATOR_OPERATION_RESULT:function(t){console.log("Operation Result Handled Outside of Calculator: ",t)},CALCULATOR_HISTORY_SENT:function(t){console.log("Calculator History: ",t)}}),bn("CALCULATOR_OPERATION_EXEC",{payload:{op:"add",operands:[3,5]}}),bn("CALCULATOR_OPERATION_EXEC",{payload:{op:"multiply",operands:[2,5]}}),bn("CALCULATOR_OPERATION_EXEC",{payload:{op:"divide",operands:[1,15]}}),bn("CALCULATOR_OPERATION_EXEC",{payload:{op:"subtract",operands:[1,15]}}),bn("CALCULATOR_HISTORY_REQUEST")},"Event payload","Pass and handle different event payload"],[function(){var t;Dn(),vn(((t={})[wn.CALCULATOR_OPERATION_RESULT]=function(t){console.log("Operation Result Handled Outside of Calculator: ",t)},t[wn.CALCULATOR_HISTORY_SENT]=function(t){console.log("Calculator History: ",t)},t)),bn(wn.CALCULATOR_OPERATION_EXEC,{payload:{op:"add",operands:[3,5]}}),bn(wn.CALCULATOR_OPERATION_EXEC,{payload:{op:"multiply",operands:[2,5]}}),bn(wn.CALCULATOR_OPERATION_EXEC,{payload:{op:"divide",operands:[1,15]}}),bn(wn.CALCULATOR_OPERATION_EXEC,{payload:{op:"subtract",operands:[1,15]}}),bn(wn.CALCULATOR_HISTORY_REQUEST)},"Typed events","Use TypeScript to define events rather than using plain strings"],[function(){Pn({config:{key1:"config-key",key2:42}})},"Obs creation params","Pass initial params when creating an observer"],[function(){vn({SOME_EVENT:function(){}},{id:"hello-world-with-meta",meta:{a:5},name:"Obs with meta"})},"Obs meta","Pass `meta` to obs options"],[function(){var t,n;vn(((t={})[qt.OBS_CREATE]=function(t){console.log("obs instance (obs 1): ",t.payload.obs.instance)},t),{id:"hello-obs-instance-1"}),vn(((n={})[qt.OBS_CREATE]=Wt((function(t){console.log("obs instance (obs 2): ",t)})),n),{id:"hello-obs-instance-2"})},"Getting obs instance","Useful in several cases"],[function(){var t,n;vn(((t={})[qt.OBS_CREATE]=Wt((function(t){console.log("obs instance (obs 2): ",t),t.addOD(vn({CHILD_OBS_EVENT:function(){return console.log("child obs event")}})),t.addOD(jn())})),t),{id:"hello-obs-with-children"}),vn(((n={})[qt.OBS_CREATE]=function(){bn("CHILD_OBS_EVENT")},n))},"Children: obs.addOD (add child)"],[function(){ne(),Zn(),bn("GAME_START")},"Children: nested","The parent and child are bound and the separate obs is not"],[function(){se(),ue().dispatchEvent("GAME_START"),setTimeout((function(){mn("createObsLevel2").dispatchEvent("GAME_START")}))},"Children: obs.dispatchEvent","Events dispatchtes in an obs tree are contained there"],[function(){vn({SAY_HELLO:function(){return console.log("SAY_HELLO from First Hello")}},{id:"hello-1",name:"First Hello",meta:{a:5}}),vn({SAY_HELLO:function(){return console.log("SAY_HELLO from Second Hello")}},{id:"hello-2",name:"Second Hello",meta:{a:10}}),bn("SAY_HELLO",{target:function(t){var n;return(null===(n=t.meta)||void 0===n?void 0:n.a)<8}})},"Dispatch target - Predicate","You can use a predicate function to determine to which observer the event will be dispatched"],[function(){Wn();var t=Xn();setTimeout((function(){console.log("Will now REMOVE the-parent - auto-removes children"),_n(t)}),1e3)},"Parent Remove - Children too","Removing a parent removes all of its children / no matter how many levels"],[function(){var t;console.log("dispatchEvent GAME_START"),bn("GAME_START"),console.log('const inst = addObsDisp(... { id: "hello-world" }) ');var n=vn(((t={GAME_START:function(){return console.log("(inlined obs 1) GAME_START")}})[qt.OBS_REMOVE]=function(t){return t.name,t.payload,console.log("(inline obs) OBS_REMOVE")},t),{id:"hello-world"});console.log("dispatchEvent GAME_START"),bn("GAME_START"),console.log('(try again same ID obs): addObsDisp(... { id: "hello-world" }) '),vn({GAME_START:function(){return console.log("(inlined obs 2) GAME_START")}},{id:"hello-world"}),console.log('addObsDisp(... { id: "hello-world-2" }) '),vn({GAME_START:function(){return console.log("(inlined obs 1) GAME_START")}},{id:"hello-world-2"}),console.log("dispatchEvent GAME_START"),bn("GAME_START"),_n(n),console.log("dispatchEvent GAME_START"),bn("GAME_START"),console.log('removeObsById("hello-world-2")'),Rn("hello-world-2"),console.log("dispatchEvent GAME_START"),bn("GAME_START"),vn({GAME_START:function(){return console.log("HORRRAY 3")}},{id:"hello-world-3"}),console.log('Now test on your own in the F12 dev tools - use the OD.* APIs;\n      e.g. try to dispatch an event and see what happens: OD.dispatchEvent("GAME_START")')},"add/remove/dispatch mix","Notice the order of events"]],"Counter - Full Power!":[[function(){fe({initialCount:42,tickMs:700})},"Accept initial props","Let's count from 42"],[function(){he({startCount:0,tickMs:1e3})},"Additional Controls - raw","We can better this / check next example"],[function(){ge({startCount:0,tickMs:1e3})},"Additional Controls - Less state","We still can better this / check next example"],[function(){Ue({startCount:0,tickMs:1e3})},"Componentization - Reusable UI Components!","Ultimate example of how to utilize componentized obs-disp's"],[function(){Array.from(Array(5)).forEach((function(t,n){ke({startCount:Math.pow(10,n),tickMs:1e3})}))},"Multiple Auto-counter instances!","When Counter is not singleton and it has children, it can act as a reusable component!"],[function(){we(),Array.from(Array(5)).forEach((function(t,n){return ke({startCount:Math.pow(10,n),tickMs:1e3})}))},"Master of Counters","It's very easy to affect multiple observers at once. Done in 3 min."]]},Pe=Object.keys(De).map((function(t,n){var e=pn("<h2>".concat(n+1,") ").concat(t,"</h2>")),o="",r=De[t].map((function(n,e){var r=n[0],a=n[1]||"Example ".concat(e+1),u=n[2]||"",i=pn('<button class="run-example" data-section="'.concat(t,'" data-hover="').concat(u,'"\n            data-ind="').concat(e+1,'">').concat(a,"</button>"));return i.querySelector("button").onclick=function(){document.querySelector("#clean-before-run").checked&&(console.clear(),On.removeAllObservers()),o=document.querySelector(".example-description").innerHTML||"",i.closest(".toc-sidebar").querySelectorAll(".run-example").forEach((function(t){return t.classList.remove("active")})),i.querySelector("button").classList.add("active"),r()},i.querySelector("button").onpointerenter=function(){document.querySelector(".example-description").innerHTML=u+""},i.querySelector("button").onpointerleave=function(){document.querySelector(".example-description").innerHTML=o},i}));return r.forEach((function(t){return e.appendChild(t)})),e})),je=pn("");je.setAttribute("class","toc-sidebar"),Pe.forEach((function(t){return je.appendChild(t)})),document.body.appendChild(je);var Ge,He=pn("");He.setAttribute("class","example-description"),He.innerHTML="Example Description: using basic API - adding an observer",document.body.appendChild(He),document.body.appendChild(((Ge=pn('\n      <input type="checkbox" id="clean-before-run" checked>\n      <label for="clean-before-run">Clear existing observers and console before running example</label>\n    ')).classList.add("checkbox-clean"),Ge)),document.body.appendChild(function(){var t=pn("<button class='btn-remove-all-ODs'>Remove all ODs</button>");return t.onclick=function(){On.removeAllObservers()},t}());var Ye=document.createElement("ul"),Fe=function(t){return'<button class="obs-delete" data-id='.concat(t.id,"> X </button> ")},Xe=function(t){return 0===t.children.length?"":['<ul class="obs-children">',t.children.map(qe),"</ul>"].flat().join("")},qe=function(t){return['<li class="obs">','<span class="obs-delete">',Fe(t),"</span>",'<span class="obs-id">',t.id,"</span>",'<span class="obs-name">'," :: ",t.name,"</span>",Xe(t),"</li>"].join("")};Ye.addEventListener("click",(function(t){if(t.target.classList.contains("obs-delete")){var n=t.target.dataset.id;On.removeObsById(n)}}));var We=setInterval((function(){var t=[On.getObserversTree().map(qe).join("")].join("");Ye.innerHTML="<h2>ODs Tree</h2>"+t,document.querySelector(".obs")}),200);window._obsTreeUpdateInterval=We;var ze=document.createElement("div");ze.setAttribute("class","left-sidebar"),ze.appendChild(Ye),document.body.appendChild(ze)})()})();